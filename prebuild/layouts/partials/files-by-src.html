{{ range site.Data.remote.srcs }}
  {{ $csv   := .csv }}
  {{ $lang  := .lang }}
  {{ $types := .types }}
  {{ with .src }}
    {{ with resources.GetRemote . }}
      {{ with .Err }}
        {{ warnf "%s" . }}
      {{ else }}

        {{ $datas := unmarshal (.Content | string) }}
        {{ if $csv }}
          {{ $datas = partial "csv" $datas }}
        {{ end }}

        {{ if $datas }}
          {{ range $types }}
            {{ $type     := .type | default "pages" }}
            {{ $pairings := .pairings }}

            {{ with .index }}
              {{ $datas = index $datas (split . ".") }}
            {{ end }}
            {{ with $datas }}
              {{/*  TO FILES  */}}
              {{ range $key, $data := . }}
                {{ with . }}

                  {{ $obj := dict }}
                  {{ range $pairings }}
                    {{ $from    := .from | default .to }}

                    {{ $pair    := index $data (split $from ".") }}
                    {{ if $pair }}
                      {{ if eq .kind "slice" }}
                        {{ if not (reflect.IsSlice $pair) }}
                          {{ $pair = split $pair (.delimit | default ",") }}
                        {{ end }}
                      {{ end }}
                    {{ end }}

                    {{ if ne .default nil }}
                      {{ $default  := .default }}
                      {{ if      eq .kind "int" }}
                        {{ $default = int .default }}
                      {{ else if eq .kind "float" }}
                        {{ $default = float .default }}
                      {{ else if eq .kind "boolean" }}
                        {{ $default = eq "true" .default }}
                      {{ else if eq .kind "slice" }}
                        {{ $default = split .default (.delimit | default ",") }}
                      {{ else if eq .kind "dict" }}
                        {{ $default = unmarshal .default }}
                      {{ end }}
                      {{ $pair = $pair | default $default }}
                    {{ end }}

                    {{ if $pair }}
                      {{ $keys     := split .to "." }}
                      {{ $kind     := .kind }}
                      {{ $new_dict := dict }}
                      {{ range collections.Reverse $keys }}
                        {{ if eq $kind "slice" }}
                          {{ $value   := index $obj . }}
                          {{ $new_dict = dict . ($value | default slice | append $pair) }}
                        {{ else }}
                          {{ $new_dict = dict . ($new_dict | default $pair) }}
                        {{ end }}
                      {{ end }}
                      {{ $obj = merge $obj $new_dict }}
                    {{ end }}
                  {{ end }}

                  {{ $slug    := index $obj "slug"    | default $key }}
                  {{ $content := index $obj "content" | default "" }}
                  {{ $obj      = merge $obj (dict "content" nil) }}
                  {{ $path    := print "content." $lang "/" $type "/" (urlize $slug) ".md" }}
                  {{ partial "file-by-obj" (dict "obj" $obj "content" $content "path" $path) }}

                {{ end }}
              {{ end }}

            {{ end }}
          {{ end }}
        {{ end }}

      {{ end }}
    {{ else }}
      {{ errorf "Unable to get remote resource %q" . }}
    {{ end }}
  {{ end }}
{{ end }}

{{ return "" }}