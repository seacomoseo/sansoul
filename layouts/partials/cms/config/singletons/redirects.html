{{ $parent_hint := print .redirects_hint " → [" .customs_options "](https://developers.cloudflare.com/pages/configuration/redirects/)" }}
{{ $type_hint   := (print .def " → **301**") }}

{{ return dict
  "&redirects" (slice
    (partial "cms/widget" (dict
      "alt"     `redirects`
      "name"    `redirects`
      "widget"  `slice`
      "hint"    $parent_hint
      "sum"    "{{fields.from}} → {{fields.to}} - ({{fields.type | default('301')}})"
      "root"    true
      "fields"  (slice
        (partial "cms/widget" (dict "alt" `redirects_from` "name" `from`                                                                   ))
        (partial "cms/widget" (dict "alt" `redirects_to`   "name" `to`                                                                     ))
        (partial "cms/widget" (dict "alt" `redirects_type` "name" `type` "widget" `select` "options" `~options_redirects` "hint" $type_hint))
      )
    ))
  )
}}