{{ $t := partial "functions/i18n-cms" . }}

{{ $departments_fields := slice
  `~P_TYPES`
  `~P_NAMES`
  `~P_SUMMARY`
  `~P_LEGAL`
  `~P_NIF`
  `~P_EMAIL`
  `~P_LOGO`
  `~P_URL`
  `~P_IMAGES`
  `~P_SOCIAL`
  `~P_PHONES`
  `~P_ADDRESS`
  `~P_AREAS`
  `~P_OPEN`
  `~P_PRICES`
  `~P_SERVICES`
  `~P_FOOD_MENU`
  `~P_FOOD_TYPE`
}}

{{ return slice

  (dict "&P_SLUG"           (dict "name" `slug`           "widget" `string`   "i18n" true        "default" ``     "label" $t.p_slug           "hint" $t.p_slug_hint           "pattern" (slice "^[a-z0-9-]+$" $t.pattern)))
  (dict "&P_TITLE"          (dict "name" `title`          "widget" `string`   "i18n" true        "default" ``     "label" $t.p_title          "hint" $t.p_title_hint))
  (dict "&P_SUMMARY"        (dict "name" `summary`        "widget" `text`     "i18n" true        "required" false "label" $t.p_summary        "hint" $t.p_summary_hint))
  (dict "&P_IMAGE"          (dict "name" `image`          "widget" `image`    "i18n" `duplicate` "required" false "label" $t.p_image          "hint" $t.p_image_hint          "choose_url" true  "max_file_size" 512000000))

  (dict "&P_TOC"            (dict "name" `toc`            "widget" `boolean`  "i18n" `duplicate` "required" false "label" $t.p_toc            "hint" $t.p_toc_hint))
  (dict "&P_DRAFT"          (dict "name" `draft`          "widget" `boolean`  "i18n" true        "required" false "label" $t.p_draft          "hint" $t.p_draft_hint))
  (dict "&P_NOINDEX"        (dict "name" `noindex`        "widget" `boolean`  "i18n" true        "required" false "label" $t.p_noindex        "hint" $t.p_noindex_hint))
  (dict "&P_TRANSLATIONKEY" (dict "name" `translationKey` "widget" `string`   "i18n" `duplicate` "required" false "label" $t.p_translationKey "hint" $t.p_translationKey_hint))
  (dict "&P_TITLE_SEO"      (dict "name" `seo`            "widget" `string`   "i18n" true        "required" false "label" $t.p_seo            "hint" $t.p_seo_hint))
  (dict "&P_DESCRIPTION"    (dict "name" `description`    "widget" `text`     "i18n" true        "required" false "label" $t.p_description    "hint" $t.p_description_hint))
  (dict "&P_BODY"           (dict "name" `body`           "widget" `markdown` "i18n" true        "required" false "label" $t.p_body           "hint" $t.p_body_hint           "show_raw" true))

  (dict "&P_BASE"           (dict "name" `base`           "widget" `select`   "i18n" `duplicate` "required" false "label" $t.p_base           "hint" $t.p_base_hint           "options" `~OPTIONS_BASE`))

  (dict "&P_DATE"           (dict "name" `date`           "widget" `datetime` "i18n" true        "required" true  "label" $t.p_date                                           "format" `yyyy-MM-dd HH:mm:ss` "date_format" `yyyy-MM-dd` "time_format" `HH:mm`))
  (dict "&P_LASTMOD"        (dict "name" `lastmod`        "widget" `datetime` "i18n" true        "required" false "label" $t.p_lastmod                                        "format" `yyyy-MM-dd HH:mm:ss` "date_format" `yyyy-MM-dd` "time_format" `HH:mm`))

  (dict "&P_END"            (dict "name" `end`            "widget" `datetime` "i18n" `duplicate` "required" false "label" $t.p_end                                            "format" `yyyy-MM-dd HH:mm:ss` "date_format" `yyyy-MM-dd` "time_format" `HH:mm`))
  (dict "&P_CANCELLED"      (dict "name" `cancelled`      "widget" `boolean`  "i18n" `duplicate` "required" false "label" $t.p_cancelled))
  (dict "&P_ARTISTS"        (dict
    "name"           `artists`
    "widget"         `list`
    "i18n"           true
    "required"       false
    "label"          $t.p_artists
    "label_singular" $t.p_artists_singular
    "collapsed"      false
    "summary"        "{{fields.link}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `name`  "widget" `string`  "i18n" true        "required" false "label" $t.p_artists_singular  "hint" $t.p_artists_hint)
      (dict "name" `group` "widget" `boolean` "i18n" `duplicate` "required" false "label" $t.p_artists_group)
    )
  ))

  (dict "&P_PRICE"          (dict "<<" (slice (dict       "widget" `number`   "value_type" `float` "step" 0.01 "min" 0) `~BOX_PRICE`)))
  (dict "&P_SKU"            (dict "name" `sku`            "widget" `string`   "i18n" true        "required" false "label" `SKU`))

  (dict "&P_JOB"            (dict "name" `job`            "widget" `string`   "i18n" true        "required" false "label" $t.p_job            "hint" $t.p_job_hint))

  (dict "&P_SERVICE_AREAS" (dict
    "name"           `service_areas`
    "widget"         `list`
    "required"       false
    "label"          $t.p_areas
    "label_singular" $t.p_areas_singular
    "collapsed"      false
    "summary"        "{{fields.area}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `area` "widget" `string` "required" false "label" $t.p_areas_singular)
    )
  ))
  (dict "&P_SERVICE_TYPES"         (dict
    "name"           `service_types`
    "widget"         `list`
    "i18n"           true
    "required"       false
    "label"          $t.p_service_types
    "label_singular" $t.p_service_types_singular
    "collapsed"      false
    "summary"        "{{fields.link}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `service` "widget" `string` "i18n" true "required" false "label" $t.p_service_types_singular)
    )
  ))

  (dict "&P_TYPES" (dict
    "name"           `types`
    "widget"         `list`
    "required"       false
    "label"          $t.p_types
    "collapsed"      true
    "summary"        "{{fields.type}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `type` "widget" `select` "required" false "label" $t.p_types "options" `~OPTIONS_LOCATION_TYPE`)
    )
  ))
  (dict "&P_NAMES" (dict
    "name"           `names`
    "widget"         `list`
    "required"       false
    "label"          $t.p_names
    "label_singular" $t.p_names_singular
    "hint"           $t.p_names_hint
    "collapsed"      true
    "summary"        "{{fields.name}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `name` "widget" `string` "required" false "label" $t.p_names_singular)
    )
  ))
  (dict "&P_LEGAL"       (dict "name" `legal`       "required" false "label" $t.p_legal       "widget" `string`))
  (dict "&P_NIF"         (dict "name" `nif`         "required" false "label" $t.p_nif         "widget" `string`))
  (dict "&P_EMAIL"       (dict "name" `email`       "required" false "label" $t.p_email       "widget" `string`))
  (dict "&P_URL"         (dict "name" `url`         "required" false "label" `URL`            "widget" `string`))
  (dict "&P_LOGO"        (dict "name" `logo`        "required" false "label" $t.p_logo        "widget" `image` "max_file_size" 512000000))
  (dict "&P_IMAGES"      (dict "name" `images`      "required" false "label" $t.p_images      "widget" `image` "multiple" true "choose_url" true))
  (dict "&P_SOCIAL"      (dict
    "name"           `social`
    "widget"         `list`
    "required"       false
    "label"          $t.p_social
    "label_singular" $t.p_social_singular
    "collapsed"      true
    "summary"        "{{fields.link}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `link` "widget" `string` "required" false "label" $t.p_social_singular)
    )
  ))
  (dict "&P_PHONES" (dict
    "name"           `phones`
    "widget"         `list`
    "required"       false
    "label"          $t.p_phones
    "label_singular" $t.p_phones_singular
    "collapsed"      true
    "summary"        "{{fields.phone}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `phone` "widget" `string` "required" false "label" $t.p_phones_singular)
    )
  ))
  (dict "&P_ADDRESS" (dict
    "name"           `address`
    "widget"         `object`
    "required"       false
    "label"          $t.p_address
    "label_singular" $t.p_address_singular
    "collapsed"      true
    "fields"         (slice
      (dict "name" `name`     "widget" `string` "required" false "label" $t.p_address_name    )
      (dict "name" `street`   "widget" `string` "required" false "label" $t.p_address_street  )
      (dict "name" `pc`       "widget" `number` "required" false "label" $t.p_address_pc       "value_type" `int` "min" 10000 "max" 99999)
      (dict "name" `locality` "widget" `string` "required" false "label" $t.p_address_locality)
      (dict "name" `region`   "widget" `string` "required" false "label" $t.p_address_region  )
      (dict "name" `country`  "widget" `string` "required" false "label" $t.p_address_country  "hint" (print "[" $t.p_address_country_hint "](https://wikipedia.org/wiki/ISO_3166-1)"))
      (dict "name" `geo`      "widget" `map`    "required" false "label" $t.p_address_geo      "number" 7)
      (dict "name" `link`     "widget" `string` "required" false "label" $t.p_address_link    )
    )
  ))
  (dict "&P_AREAS" (dict "<<" (slice (dict "name" `areas`) `~P_SERVICE_AREAS`)))
  (dict "&P_OPEN" (dict
    "name"           `schedule`
    "widget"         `list`
    "required"       false
    "label"          $t.p_schedule
    "label_singular" $t.p_schedule_singular
    "collapsed"      true
    "summary"        "{{fields.days}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `days`   "widget" `select` "required" false "label" $t.p_schedule_days "multiple" true "options" `~OPTIONS_DAYS`)
      (dict
        "name"           `hours`
        "widget"         `list`
        "required"       false
        "label"          $t.p_schedule_hours
        "collapsed"      false
        "summary"        "{{fields.open}} - {{fields.close}}"
        "allow_add"      true
        "fields"         (slice
          (dict "name" `open`   "widget" `datetime` "required" false "label" $t.p_schedule_hours_close "format" `H:mm` "date_format" false "time_format" `HH:mm`)
          (dict "name" `close`  "widget" `datetime` "required" false "label" $t.p_schedule_hours_close "format" `H:mm` "date_format" false "time_format" `HH:mm`)
        )
      )
      (dict "name" `from`   "widget" `datetime` "required" false "label" $t.p_schedule_from "hint" $t.p_schedule_valid_hint "format" `yyyy-MM-dd` "date_format" `yyyy-MM-dd` "time_format" false)
      (dict "name" `to`     "widget" `datetime` "required" false "label" $t.p_schedule_to   "hint" $t.p_schedule_valid_hint "format" `yyyy-MM-dd` "date_format" `yyyy-MM-dd` "time_format" false)
    )
  ))
  (dict "&P_PRICES"   (dict "name" `prices` "widget" `select` "required" false "label" $t.p_prices "options" (slice "€" "€€" "€€€" "$" "$$" "$$$")))
  (dict "&P_SERVICES" (dict
    "name"           `services`
    "widget"         `list`
    "required"       false
    "label"          $t.p_services
    "label_singular" $t.p_services_singular
    "collapsed"      true
    "summary"        "{{fields.title}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `title`       "widget" `string` "required" false "label" $t.config_title)
      (dict "name" `description` "widget" `text`   "required" false "label" $t.config_description)
      (dict "name" `price`       "widget" `number` "required" false "label" $t.price "value_type" `float` "min" 0 "step" 0.01)
      (dict "name" `area`        "widget" `string` "required" false "label" $t.p_areas_singular)
      (dict "name" `url`         "widget" `string` "required" false "label" `URL`)
    )
  ))
  (dict "&P_FOOD_MENU" (dict
    "name"           `food_menu`
    "widget"         `list`
    "required"       false
    "label"          $t.p_food_menu
    "label_singular" $t.p_food_menu_singular
    "hint"           $t.p_food_menu_hint
    "collapsed"      true
    "summary"        "{{fields.food_menu}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `food_menu` "widget" `string` "required" false "label" $t.p_food_menu_singular)
    )
  ))
  (dict "&P_FOOD_TYPE" (dict
    "name"           `food_type`
    "widget"         `list`
    "required"       false
    "label"          $t.p_food_type
    "label_singular" $t.p_food_type_singular
    "hint"           $t.p_food_type_hint
    "collapsed"      true
    "summary"        "{{fields.food_type}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `food_type` "widget" `string` "required" false "label" $t.p_food_type_singular)
    )
  ))
  (dict "&P_DEPARTMENTS" (dict
    "name"           `departments`
    "widget"         `list`
    "required"       false
    "label"          $t.p_departments
    "label_singular" $t.p_departments_singular
    "collapsed"      true
    "summary"        "{{fields.url}}"
    "allow_add"      true
    "fields"         $departments_fields
  ))

}}