{{/*  BOXES FIELDS BY GROUPS  */}}

{{ $group := slice
  `~cols`
  `~cols_vs`
  `~gap`
  `~gap_vs`
  `~gap_ny`
  `~to`
  `~duo`
  `~sides`
  `~group_radius`
  `~slider`
  `~slider_time`
  `~slider_pips`
  `~slider_arrows`
  `~align_x`
  `~align_y`
}}
{{ $titles := slice
  `~title`
  `~hanchor`
  `~sub`
  `~price`
  `~hn`
  `~hs`
  `~hs_vs`
  `~caps`
  `~line`
}}
{{ $md := slice
  `~md`
  `~md_align`
  `~md_align_vl`
  `~md_sm`
  `~md_caps`
  `~md_line`
  `~md_index`
  `~md_nav`
  `~md_border`
}}
{{ $titles_style := slice
  `~hn`
  `~hs`
  `~hs_vs`
  `~caps`
  `~line`
}}
{{ $md_style := slice
  `~md_align`
  `~md_align_vl`
  `~md_sm`
  `~md_caps`
  `~md_line`
  `~md_index`
  `~md_nav`
  `~md_border`
}}
{{ $menu := slice
  `~menu_label`
  `~menu_btn`
  `~menu_swap`
}}
{{ $menu_style := slice
  `~menu_btn`
  `~menu_swap`
}}
{{ $icon := slice
  `~icon`
  `~icon_pos`
  `~icon_size`
  `~icon_color`
}}
{{ $img := slice
  `~img_no_vid`
  `~hover`
  `~alt`
  `~hover_alt`
  `~vid`
  `~mute`
  `~ratio`
  `~contain`
  `~border`
  `~inset`
  `~disc`
  `~gray`
  `~shade`
}}
{{ $btn := slice
  `~pin`
  `~url`
  `~label`
  `~anchor`
  `~lock`
  `~swap`
  `~ga4`
  `~btn_with_hide`
}}
{{ $bg_boxes := slice
  `~color`
  `~fade`
  `~fade_to`
  `~color_alpha`
  `~bi`
  `~alpha`
  `~scroll`
}}
{{ $bg_sections := slice
  `~color`
  `~fade`
  `~fade_to`
  `~color_alpha`
  `~bi`
  `~alpha`
  `~scroll_sections`
  `~box_color`
  `~box_fade`
  `~box_fade_to`
  `~box_color_alpha`
  `~box_bi`
  `~box_alpha`
  `~box_scroll`
}}
{{ $padding := slice
  `~pt`
  `~pb`
  `~ph`
}}
{{ $size := slice
  `~size`
  `~full`
}}
{{ $size_modal := slice
  `~size`
}}
{{ $divider := slice
  `~div`
  `~flip_x`
  `~flip_y`
}}
{{ $boxi_boxes := slice
  `~order`
  `~fit`
  `~fit_vs`
  `~grow`
  `~align_y_self`
}}
{{ $boxi := slice
  `~align`
  `~align_vl`
  `~side`
  `~rate`
  `~space`
  `~pd`
  `~pd_vs`
  `~hide_shadow`
  `~hide_radius`
  `~pill`
  `~card`
}}
{{ $other := slice
  `~if`
  `~node`
  `~get`
  `~tag`
  `~tags`
  `~sort`
}}
{{ $blocks := slice
  `~list`
  `~step`
  `~steps`
  `~gallery`
  `~imgs`
  `~limgs`
  `~faq`
  `~faqs`
  `~gss`
  `~gss_sheet`
  `~review`
  `~reviews`
  `~when`
  `~links`
  `~dots`
  `~form`
  `~inputs`
  `~map`
  `~geos`
  `~zoom`
}}


{{/*  BOXES FIELDS  */}}

{{ $boxes_fields := slice
  `~view_boxes`
  `~id`
  | append $titles
  | append $md
  | append $icon
  | append $img
  | append $btn
  | append $bg_boxes
  | append $boxi_boxes
  | append $boxi
  | append $other
  | append `~box`
  | append $blocks
}}


{{/*  FINISH  */}}

{{ return slice
  (dict "&box_fields" (slice
    `~view_box`
    | append $group
    | append $titles
    | append $md
    | append $icon
    | append $img
    | append $btn
    | append $bg_boxes
    | append $boxi
    | append $other
  ))
  (partial "cms/widget" (dict
    "var"    `box`
    "alt"    `box`
    "name"   `box`
    "widget" `dict`
    "fields" `~box_fields`
  ))


  (partial "cms/widget" (dict
    "var"    `boxes_last`
    "alt"    `boxes`
    "name"   `boxes`
    "widget" `slice`
    "sum"    "{{fields.title}}"
    "fields" $boxes_fields
  ))
  (partial "cms/widget" (dict "var" `boxes_2` "<<" `boxes_last` "fields" ($boxes_fields | append `~boxes_last`)))
  (partial "cms/widget" (dict "var" `boxes`   "<<" `boxes_2`    "fields" ($boxes_fields | append `~boxes_last`)))


  (partial "cms/widget" (dict
    "var"    `modal`
    "name"   `modal`
    "widget" `dict`
    "fields" (slice
      `~view_modal`
      | append $titles_style
      | append $md_style
      | append $menu_style
      | append $icon
      | append $img
      | append $btn
      | append $bg_sections
      | append $padding
      | append $size_modal
      | append $boxi_boxes
      | append $boxi
      | append $other
    )
  ))

  (partial "cms/widget" (dict
    "var"    `modals`
    "name"   `modals`
    "widget" `slice`
    "fields" (slice
      `~id`
      `~view_modals`
      | append $titles
      | append $md
      | append $menu
      | append $icon
      | append $img
      | append $btn
      | append $bg_sections
      | append $padding
      | append $size_modal
      | append $boxi_boxes
      | append $boxi
      | append $other
      | append `~box`
      | append $blocks
      | append `~boxes`
    )
  ))


  (dict "&section_fields" (slice
    `~view_section`
    | append $titles_style
    | append $md_style
    | append $menu_style
    | append $icon
    | append $img
    | append $btn
    | append $bg_sections
    | append $padding
    | append $size
    | append $divider
    | append $boxi_boxes
    | append $boxi
    | append $other
  ))
  (dict "&sections_fields" (slice
    `~name`
    `~id`
    `~view_sections`
    | append $titles
    | append $md
    | append $menu
    | append $icon
    | append $img
    | append $btn
    | append $bg_sections
    | append $padding
    | append $size
    | append $divider
    | append $boxi_boxes
    | append $boxi
    | append $other
    | append `~box`
    | append $blocks
    | append `~boxes`
    | append `~modal`
    | append `~modals`
  ))
  (dict "&sections_fields_params" (slice
    `~id`
    `~view_sections`
    | append $titles
    | append $md
    | append $menu
    | append $icon
    | append $img
    | append $btn
    | append $bg_sections
    | append $padding
    | append $size
    | append $divider
    | append $boxi_boxes
    | append $boxi
    | append $other
    | append `~box`
    | append $blocks
    | append `~boxes`
    | append `~modal`
    | append `~modals`
  ))

}}