{{ $colections := slice }}

{{ $tpl_menu_hide_custom_hint := print "[" .tpl_menu_hide_custom_hint "](#/collections/_singletons/entries/values)" }}
{{ $tpl_sections_file_hint    := print "[" .tpl_sections_file_hint    "](#/collections/section)"                    }}


{{/*  BACKGROUND  */}}
{{ $colections = $colections | append
  (partial "cms/widget" (dict
    "var"    `tpl_background`
    "name"   `bg`
    "widget" `dict`
    "fields" (slice
      `~color`
      `~fade`
      `~fade_to`
      `~bi`
      `~alpha`
      `~scroll_sections`
    )
  ))
}}


{{/*  MENU  */}}
{{ $colections = $colections | append
  (partial "cms/widget" (dict "var" `tpl_menu_hide`        "name" `hide`        "widget" `bool`                                     ))
  (partial "cms/widget" (dict "var" `tpl_menu_logo`        "name" `logo`        "widget" `bool`                                     ))
  (partial "cms/widget" (dict "var" `tpl_menu_sticky`      "name" `sticky`      "widget" `select`  "opts" `~opts_sticky`            ))
  (partial "cms/widget" (dict "var" `tpl_menu_logo_sticky` "name" `logo_sticky` "widget" `bool`                                     ))
  (partial "cms/widget" (dict "var" `tpl_menu_logo_align`  "name" `logo_align`  "widget" `bool`                                     ))
  (partial "cms/widget" (dict "var" `tpl_menu_size`        "name" `size`        "widget" `select`  "opts" `~opts_sizes` "alt" `size`))
  (partial "cms/widget" (dict "var" `tpl_menu_clear`       "name" `clear`       "widget" `bool`                                     ))
  (partial "cms/widget" (dict "var" `tpl_menu_hide_icons`  "name" `hide_icons`  "widget" `bool`                                     ))
  (partial "cms/widget" (dict "var" `tpl_menu_hide_custom` "name" `hide_custom` "widget" `bool` "hint" $tpl_menu_hide_custom_hint   ))
  (partial "cms/widget" (dict "var" `tpl_menu_auto`        "name" `auto`        "widget" `select`  "opts" `~opts_menu_auto`         ))
  (partial "cms/widget" (dict
    "var"    `tpl_menu`
    "name"   `menu`
    "widget" `dict`
    "fields" (slice
      `~tpl_menu_hide`
      `~tpl_menu_logo`
      `~tpl_menu_sticky`
      `~tpl_menu_logo_sticky`
      `~tpl_menu_logo_align`
      `~tpl_menu_size`
      `~tpl_menu_clear`
      `~color`
      `~fade`
      `~fade_to`
      `~tpl_menu_hide_icons`
      `~tpl_menu_hide_custom`
      `~tpl_menu_auto`
    )
  ))
}}


{{/*  CALLNOW  */}}
{{ $colections = $colections | append
  (partial "cms/widget" (dict "var" `tpl_callnow` "name" `callnow` "widget" `select` "opts" `~opts_callnow`))
}}


{{/*  SECTIONS  */}}
{{ $colections = $colections | append
  (partial "cms/widget" (dict
    "var"    `tpl_section`
    "name"   `section`
    "widget" `slice`
    "fields" `~section_fields`
  ))
  (partial "cms/widget" (dict
    "var"    `tpl_sections`
    "name"   `sections`
    "widget" `slice`
    "sum"    "{{fields.file}}"
    "fields" (slice
      (partial "cms/widget" (dict
        "alt"            `tpl_sections_file`
        "name"           `file`
        "widget"         `rel`
        "hint"           $tpl_sections_file_hint
        "collection"     `section`
        "search_fields"  (slice "{{name}}")
        "display_fields" (slice "{{name}}")
      ))
      (partial "cms/widget" (dict
        "alt"    `tpl_sections_params`
        "name"   `params`
        "widget" `dict`
        "fields" `~sections_fields_params`
      ))
    )
  ))
}}


{{/*  LISTS  */}}
{{ $colections = $colections | append
  (partial "cms/widget" (dict
    "var"    `tpl_list`
    "name"   `list`
    "widget" `dict`
    "fields" `~box_fields`
  ))
  (partial "cms/widget" (dict
    "var"    `tpl_rel`
    "name"   `rel`
    "widget" `dict`
    "fields" `~box_fields`
  ))
}}


{{ return $colections }}