{{/*  IF MULTILANGUAGE  */}}
{{- $languages_permalinks := slice -}}
{{- range slice . | append .Translations -}}
  {{- $languages_permalinks = $languages_permalinks | append (partial "cms/config/languages-permalinks" .) -}}
{{- end -}}

{{/*  IF MULTIHOST  */}}
{{- $multihost        := ne
  (index .AllTranslations 0).Site.BaseURL
  (index .AllTranslations 1).Site.BaseURL
  | and .IsTranslated
-}}
{{- $widget_disable_lang := cond $multihost `hidden` `select` -}}

{{ return slice (dict "&COLLECTION_GENERAL"
  (dict
    "label"           `Opciones`
    "name"            `config`
    "description"     `Opciones generales del sitio web`
    "sortable_fields" (dict "fields" slice)
    "editor"          (dict "preview" false)
    "files"           (slice
      (dict
        "file"      `data/config.yml`
        "extension" `yml`
        "label"     `Configuraci√≥n`
        "name"      `data-config`
        "fields"    (partial "cms/config/data-config-fields" .)
      )
      (dict
        "file"      `data/styles.yml`
        "extension" `yml`
        "label"     `Estilos`
        "name"      `data-styles`
        "fields"    (partial "cms/config/data-design-fields" .)
      )
      (dict
        "file"      `data/lists.yml`
        "extension" `yml`
        "label"     `Listas`
        "name"      `data-lists`
        "fields"    (partial "cms/config/data-articles-fields" .)
      )
      (dict
        "file"      `hugo.yml`
        "extension" `yml`
        "label"     `Idiomas`
        "name"      `hugo`
        "fields"    (slice
          (dict "label" `URL Base`                 "name" `baseURL`     "widget" `hidden` "required" false)
          (dict "label" `Art√≠culos por Paginaci√≥n` "name" `Paginate`    "widget" `hidden` "required" false "min" 2 "value_type" `int` "deafult" 24)
          (dict "label" `Mostrar Noticias Futuras` "name" `buildFuture` "widget" `hidden` "required" false "deafult" false "hint" "Mostrar noticias con fechas futuras a la actual")
          (dict "label" `Tema`                     "name" `theme`       "widget" `hidden` "required" false "default" (slice `sansoul`))
          (dict
            "label"     `Par√°metros Generales`
            "name"      `params`
            "widget"    `hidden`
            "collapsed" true
            "fields"    (slice
              (dict "label" `URL del proyecto en GitLab, GitHub u otro` "name" `git_url`      "widget" `hidden` "required" false)
              (dict "label" `Nombre de Proyecto de Netlify`             "name" `netlify_name` "widget" `hidden` "required" false)
              (dict "label" `ID de Proyecto de Netlify`                 "name" `netlify_id`   "widget" `hidden` "required" false)
              (dict "label" `Enlace a Datos de Acceso`                  "name" `drive_link`   "widget" `hidden` "required" false)
            )
          )
          (dict "label" `Idioma Principal`   "name" `defaultContentLanguage` "widget" `select`             "required"  true  "options" `~OPTIONS_LANGS` "default" `es`                                                      "hint" "Espa√±ol por defecto")
          (dict "label" `Desactivar Idiomas` "name" `disableLanguages`       "widget" $widget_disable_lang "required"  false "options" `~OPTIONS_LANGS` "default" site.Data.utilities.default_disable_langs "multiple" true "hint" "Todos menos el Espa√±ol por defecto")
          (dict "label" (i18n "languages")   "name" `languages`              "widget" `object`             "collapsed" true  "fields"  $languages_permalinks )
        )
      )
      (dict
        "file"      `data/redirects.md`
        "extension" `md`
        "label"     `Redirecciones`
        "name"      `redirects`
        "fields"    (slice
          (dict "label" `Redirecciones` "name" `body` "widget" `text` "required" false
            "hint" "Redirecciones de URL's ‚Üí [Opciones](https://docs.netlify.com/routing/redirects/redirect-options/)"
          )
        )
      )
      (dict
        "file"      `data/robots.md`
        "extension" `md`
        "label"     `Robots.txt`
        "name"      `robots`
        "fields"    (slice
          (dict "label" `robots.txt` "name" `body` "widget" `text` "required" false
            "hint" "Tutorial ‚Üí [Gu√≠a del archivo robots.txt](https://boluda.com/tutorial/guia-del-archivo-robots-txt/)"
          )
        )
      )
      (dict
        "file"      `data/sections.yml`
        "extension" `yml`
        "label"     `Secciones`
        "name"      `data-sections`
        "fields"    (slice
          `~SECTIONS_DESIGN_GENERAL`
          `~SECTIONS_DESIGN_ALTERNATE`
        )
      )
      (dict
        "file"      `data/modals.yml`
        "extension" `yml`
        "label"     `Modales`
        "name"      `data-modals`
        "fields"    `~MODALS_DESIGN_FIELDS`
      )
      (dict
        "file"      `data/menu.yml`
        "extension" `yml`
        "label"     `Men√∫`
        "name"      `data-menu`
        "fields"    (slice
          (dict "label" `Logo`                              "name" `logo`                 "widget" `image`   "required" false "max_file_size" 512000000)
          `~COLOR`
          (dict "label" `Ancho de Despliegue`               "name" `screen_sticky`        "widget" `select`  "required" false "options" `~OPTIONS_SIZES_N_FLUID` "hint" "Es el ancho de la ventana a partir del cual el men√∫ de las p√°ginas seccionadas se mantiene desplegado en la parte superior üî∑ Si no se especifica, se mantendr√° siempre plegado")
          (dict "label" `Tama√±o de Contenedor`              "name" `size_sticky`          "widget" `select`  "required" false "options" `~OPTIONS_SIZES`         "hint" "Es el ancho m√°ximo del contenedor del men√∫ desplegado de las p√°ginas seccionadas")
          (dict "label" `Desplegado en Art√≠culos`           "name" `articles_sticky`      "widget" `boolean` "default" false)
          (dict "label" `Inicio Transparente`               "name" `transparent`          "widget" `boolean` "default" false)
          (dict "label" `Ocultar Enlaces Ancla`             "name" `hide_anchors`         "widget" `boolean` "default" false                                     "hint" "Oculta todos los enlaces que se generan de forma autom√°tica")
          (dict "label" `Ocultar Iconos`                    "name" `hide_icons`           "widget" `boolean` "default" false)
          (dict "label" `Mostrar Modales`                   "name" `show_modals`          "widget" `boolean` "default" false                                     "hint" "Mostrar enlaces hacia secciones de tipo modal como subelementos desplegables (no recomendado si hay muchos)")
          (dict "label" `Enlace Autom√°tico al Blog`         "name" `show_blog_auto`       "widget" `boolean` "default" false                                     "hint" "Mostrar enlaces hacia entradas del blog autom√°ticamente como subelementos desplegables en 'M√°s'")
          (dict "label" `Enlace Autom√°tico a Productos`     "name" `show_products_auto`   "widget" `boolean` "default" false                                     "hint" "Mostrar enlaces hacia productos autom√°ticamente como subelementos desplegables en 'M√°s'")
          (dict "label" `Enlace Autom√°tico a Taxonom√≠as`    "name" `show_taxonomies_auto` "widget" `boolean` "default" false                                     "hint" "Mostrar enlaces hacia taxonom√≠as autom√°ticamente como subelementos desplegables en 'M√°s'")
          (dict "label" `Enlace Autom√°tico al Buscador`     "name" `search`               "widget" `boolean` "default" false                                     "hint" "Ofrece un buscador r√°pido para todos los contenidos que aparecer√° enlazado en el men√∫")
          (dict "label" `Traductor de Google`               "name" `google_translate`     "widget" `boolean` "default" false                                     "hint" "A√±ade en el men√∫ la opci√≥n de traducir autom√°ticamente a m√∫ltiples idiomas (no indexables por Google)")
          (dict "label" `Idiomas y Traductor en Men√∫ "M√°s"` "name" `langs_in_more`        "widget" `boolean` "default" false                                     "hint" "Cambia la ubicaci√≥n de los enlaces de idiomas y traducci√≥n al desplegable 'M√°s'")
          (dict "label" `Idiomas Desplegados`               "name" `langs_out`            "widget" `boolean` "default" false                                     "hint" "Muestra los idiomas directamente sin nombres, fuera del desplegable 'M√°s' aunque cambie la ubicaci√≥n anterior")
          (dict "label" `Ocultar Botones de Esquina`        "name" `callnow_hide`         "widget" `boolean` "default" false                                     "hint" "Botones de la Esquina Inferior Izquierda que se suelen utilizar para llamadas a la acci√≥n siempre visibles üî∑ Si est√° oculto y no se a√±aden a continuaci√≥n, se usar√° el primer n√∫mero de WhatsApp o de tel√©fono que se encuentre en alguna secci√≥n con botones contacto")
          `~MENU_ITEMS_CALLNOW`
          `~MENU_ITEMS_NORMAL`
          `~MENU_ITEMS_MORE`
        )
      )
    )
  )
) }}