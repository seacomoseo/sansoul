{{ $e := site.Data.utilities.collections.emojis }}

{{/*  OPTIONS WITH TRANSLATE  */}}
{{ $o := dict }}
{{ range $k, $v := site.Data.options }}
  {{ $values := slice }}
  {{ range . }}
    {{ $label := index $ (print "opt-" $k "-" .) | default . | string }}
    {{ $value := dict "value" . "label" $label }}
    {{ $values = $values | append $value }}
  {{ end }}
  {{ if not (in (slice "icons_style" "btns_type" "tile" "view" "sort" "location_type" "labels") $k) }}
    {{ $first := index . 0 }}
    {{ $type  := printf "%T" $first }}
    {{ if eq $type "string" }}
      {{ $value := dict "value" "" "label" $.def }}
      {{ $values = slice $value | append $values }}
    {{ end }}
  {{ end }}
  {{ $o = merge $o (dict $k $values) }}
{{ end }}

{{ $o_types  := slice }}
{{ $o_tax    := slice }}
{{ range site.Sections }}
  {{ $label  := print .Params.emoji " " .Title }}
  {{ $option := dict "value" .Type "label" $label }}
  {{ $o_types = $o_types   | append $option }}
  {{ if .Params.tax_of }}
    {{ $o_tax = $o_tax     | append $option }}
  {{ end }}
{{ end }}
{{ $global    := dict "value" "global" "label" (print $e.values " " (index . "opt-collections-global")) }}
{{ $all       := dict "value" "all"    "label" (print $e.all    " " (index . "opt-collections-all"   )) }}
{{ $rel       := dict "value" "rel"    "label" (print $e.rel    " " (index . "opt-collections-rel"   )) }}
{{ $o_customs := $o_types | append $global   }}
{{ $o_lists   := $o_types | append $all $rel }}
{{ $o_tax     := $o_types | append $all      }}

{{ $vars := dict
  "&opts_langs"         $o.langs
  "&opts_langs_cms"     $o.langs_cms
  "&opts_base"          $o.base
  "&opts_prices"        $o.prices
  "&opts_hn"            $o.hn
  "&opts_h"             $o.h
  "&opts_align"         $o.align
  "&opts_align_x"       $o.align_x
  "&opts_align_y"       $o.align_y
  "&opts_side"          $o.side
  "&opts_sort"          $o.sort
  "&opts_btns_type"     $o.btns_type
  "&opts_menu_auto"     $o.menu_auto
  "&opts_callnow"       $o.callnow
  "&opts_direction"     $o.direction
  "&opts_duo"           $o.duo
  "&opts_pips"          $o.pips
  "&opts_arrows"        $o.arrows
  "&opts_color_base"    (where $o.color "value" "in" (slice "main" "alt" "cta" "light" "dark" "turn" "such" "whatsapp" "none"))
  "&opts_color_base_w"  (where $o.color "value" "in" (slice "main" "alt" "cta" "light" "dark" "turn" "such"))
  "&opts_color_base_n"  (where $o.color "value" "in" (slice "main" "alt" "cta" "light" "dark" "turn" "such" "whatsapp" "hide"))
  "&opts_color_base_h"  (where $o.color "value" "in" (slice "main" "alt" "cta" "light" "dark" "turn" "such" "whatsapp" "none" "hide"))
  "&opts_color_bg"      (where $o.color "value" "in" (slice "main" "main-light" "main-dark" "alt" "alt-light" "alt-dark" "cta" "cta-light" "cta-dark" "white" "light" "gray" "dark" "black" "turn" "such" "hide"))
  "&opts_scroll_sect"   (where $o.scroll "value" "ne" "box")
  "&opts_scroll_box"    (where $o.scroll "value" "ne" "fix")
  "&opts_fade"          $o.fade
  "&opts_icon_pos"      $o.icon_pos
  "&opts_icons_style"   $o.icons_style
  "&opts_sizes"         $o.sizes
  "&opts_sticky"        $o.sticky
  "&opts_gallery_types" $o.gallery_types
  "&opts_tile"          $o.tile
  "&opts_labels"        $o.labels
  "&opts_view_section"  (where $o.view "value" "in" (slice "all" "bg" "paddings" "size" "divider" "menu" "other" "boxes"))
  "&opts_view_sections" (where $o.view "value" "in" (slice "all" "bg" "paddings" "size" "divider" "menu" "other" "boxes" "modals"))
  "&opts_view_modal"    (where $o.view "value" "in" (slice "all" "titles" "md" "menu" "icon" "img" "btn" "bg" "paddings" "size" "boxi" "other"))
  "&opts_view_modals"   (where $o.view "value" "in" (slice "all" "titles" "md" "menu" "icon" "img" "btn" "bg" "paddings" "size" "boxi" "other" "list" "steps" "faqs" "gallery" "reviews" "when" "links" "form" "map" "gss" "boxes"))
  "&opts_view_box"      (where $o.view "value" "in" (slice "all" "group" "titles" "md" "icon" "img" "btn" "bg" "boxi" "other"))
  "&opts_view_boxes"    (where $o.view "value" "in" (slice "all" "titles" "md" "icon" "img" "btn" "bg" "boxi" "other" "list" "steps" "faqs" "gallery" "reviews" "when" "links" "form" "map" "gss" "boxes"))
  "&opts_tags"          $o.tags
  "&opts_divider"       $o.div
  "&opts_location_type" $o.location_type
  "&opts_currency"      $o.currency
  "&opts_customs"       $o_customs
  "&opts_types"         $o_types
  "&opts_schema"        (slice "articleSection (article)" "brand (product)" "manufacturer (product)" "author (all)")
  "&opts_lists"         $o_lists
  "&opts_tax"           $o_tax
  "&opts_font_weight"   $o.font_weight
  "&opts_font_bold"     $o.font_bold
  "&opts_icons_grade"   $o.icons_grade
  "&opts_icons_optical" $o.icons_optical
  "&opts_redirects"     $o.redirects
  "&opts_widgets"       $o.widgets
  "&opts_i18n"          (slice
    (dict "value" nil         "label" .def)
    (dict "value" "y"         "label" .true)
    (dict "value" "duplicate" "label" .duplicate)
  )
  "&opts_boolean"       (slice
    (dict "value" nil "label" .def)
    (dict "value" "y" "label" .true)
    (dict "value" "n" "label" .false)
  )
  "&opts_boolean_req"   (slice
    (dict "value" "y" "label" .true)
    (dict "value" "n" "label" .false)
  )
}}

{{ return $vars }}
