{{ $t := partial "functions/i18n" . }}

{{ $fields := slice
  `~SCHEMA_TYPES`
  `~SCHEMA_NAMES`
  `~SCHEMA_DESCRIPTION`
  `~SCHEMA_LEGAL`
  `~SCHEMA_NIF`
  `~SCHEMA_LOGO`
  `~SCHEMA_URL`
  `~SCHEMA_IMAGES`
  `~SCHEMA_SOCIAL`
  `~SCHEMA_PHONES`
  `~SCHEMA_ADDRESS`
  `~SCHEMA_AREAS`
  `~SCHEMA_OPEN`
  `~SCHEMA_PRICES`
  `~SCHEMA_SERVICES`
  `~SCHEMA_FOOD_MENU`
  `~SCHEMA_FOOD_TYPE`
}}

{{ return slice
  (dict "&SCHEMA_TYPES" (dict
    "name"           `types`
    "widget"         `list`
    "required"       false
    "label"          $t.schema_types
    "collapsed"      true
    "summary"        "{{fields.type}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `type` "widget" `select` "required" false "label" $t.schema_types "options" `~OPTIONS_LOCATION_TYPE`)
    )
  ))
  (dict "&SCHEMA_NAMES" (dict
    "name"           `names`
    "widget"         `list`
    "required"       false
    "label"          $t.schema_names
    "label_singular" $t.schema_names_singular
    "hint"           $t.schema_names_hint
    "collapsed"      true
    "summary"        "{{fields.name}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `name` "widget" `string` "required" false "label" $t.schema_names_singular)
    )
  ))
  (dict "&SCHEMA_DESCRIPTION" (dict "name" `description` "required" false "label" $t.schema_description "widget" `text`))
  (dict "&SCHEMA_LEGAL"       (dict "name" `legal`       "required" false "label" $t.schema_legal       "widget" `string`))
  (dict "&SCHEMA_NIF"         (dict "name" `nif`         "required" false "label" $t.schema_nif         "widget" `string`))
  (dict "&SCHEMA_URL"         (dict "name" `url`         "required" false "label" `URL`                                     "widget" `string` "hint" (print $t.default " → **" site.BaseURL "/**")))
  (dict "&SCHEMA_LOGO"        (dict "name" `logo`        "required" false "label" $t.schema_logo        "widget" `image` "max_file_size" 512000000))
  (dict "&SCHEMA_IMAGES"      (dict "name" `images`      "required" false "label" $t.schema_images      "widget" `image` "multiple" true "choose_url" true))
  (dict "&SCHEMA_SOCIAL"      (dict
    "name"           `social`
    "widget"         `list`
    "required"       false
    "label"          $t.schema_social
    "label_singular" $t.schema_social_singular
    "collapsed"      true
    "summary"        "{{fields.link}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `link` "widget" `string` "required" false "label" $t.schema_social_singular)
    )
  ))
  (dict "&SCHEMA_PHONES" (dict
    "name"           `phones`
    "widget"         `list`
    "required"       false
    "label"          $t.schema_phones
    "label_singular" $t.schema_phones_singular
    "collapsed"      true
    "summary"        "{{fields.phone}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `phone` "widget" `string` "required" false "label" $t.schema_phones_singular)
    )
  ))
  (dict "&SCHEMA_ADDRESS" (dict
    "name"           `address`
    "widget"         `object`
    "required"       false
    "label"          $t.schema_address
    "label_singular" $t.schema_address_singular
    "collapsed"      true
    "fields"         (slice
      (dict "name" `name`     "widget" `string` "required" false "label" $t.schema_address_name    )
      (dict "name" `street`   "widget" `string` "required" false "label" $t.schema_address_street  )
      (dict "name" `pc`       "widget" `number` "required" false "label" $t.schema_address_pc       "value_type" `int` "min" 10000 "max" 99999)
      (dict "name" `locality` "widget" `string` "required" false "label" $t.schema_address_locality)
      (dict "name" `region`   "widget" `string` "required" false "label" $t.schema_address_region  )
      (dict "name" `country`  "widget" `string` "required" false "label" $t.schema_address_country  "hint" (print "[" $t.schema_address_country_hint "](https://wikipedia.org/wiki/ISO_3166-1)"))
      (dict "name" `geo`      "widget" `map`    "required" false "label" $t.schema_address_geo     )
      (dict "name" `link`     "widget" `string` "required" false "label" $t.schema_address_link    )
    )
  ))
  (dict "&SCHEMA_AREAS" (dict
    "name"           `areas`
    "widget"         `list`
    "required"       false
    "label"          $t.schema_areas
    "label_singular" $t.schema_areas_singular
    "collapsed"      true
    "summary"        "{{fields.area}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `area` "widget" `string` "required" false "label" $t.schema_areas_singular)
    )
  ))
  (dict "&SCHEMA_OPEN" (dict
    "name"           `open`
    "widget"         `list`
    "required"       false
    "label"          $t.schema_open
    "label_singular" $t.schema_open_singular
    "collapsed"      true
    "summary"        "{{fields.days}} {{fields.opens}}-{{fields.closes}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `days`   "widget" `select` "required" false "label" $t.schema_open_days "multiple" true "options" `~OPTIONS_DAYS`)
      (dict "name" `opens`  "widget" `string` "required" false "label" $t.schema_open_opens)
      (dict "name" `closes` "widget" `string` "required" false "label" $t.schema_open_closes)
      (dict "name" `from`   "widget" `string` "required" false "label" $t.schema_open_from "hint" $t.schema_open_valid_hint)
      (dict "name" `to`     "widget" `string` "required" false "label" $t.schema_open_to   "hint" $t.schema_open_valid_hint)
    )
  ))
  (dict "&SCHEMA_PRICES"   (dict "name" `prices` "widget" `select` "required" false "label" $t.schema_prices "options" (slice "€" "€€" "€€€" "$" "$$" "$$$")))
  (dict "&SCHEMA_SERVICES" (dict
    "name"           `services`
    "widget"         `list`
    "required"       false
    "label"          $t.schema_services
    "label_singular" $t.schema_services_singular
    "collapsed"      true
    "summary"        "{{fields.title}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `title`       "widget" `string` "required" false "label" $t.box_title)
      (dict "name" `description` "widget" `text`   "required" false "label" $t.box_description)
      (dict "name" `price`       "widget" `number` "required" false "label" $t.price "value_type" `float` "min" 0 "step" 0.01)
      (dict "name" `area`        "widget" `string` "required" false "label" $t.schema_areas_singular)
      (dict "name" `url`         "widget" `string` "required" false "label" `URL`)
    )
  ))
  (dict "&SCHEMA_FOOD_MENU" (dict
    "name"           `food_menu`
    "widget"         `list`
    "required"       false
    "label"          $t.schema_food_menu
    "label_singular" $t.schema_food_menu_singular
    "hint"           $t.schema_food_menu_hint
    "collapsed"      true
    "summary"        "{{fields.food_menu}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `food_menu` "widget" `string` "required" false "label" $t.schema_food_menu_singular)
    )
  ))
  (dict "&SCHEMA_FOOD_TYPE" (dict
    "name"           `food_type`
    "widget"         `list`
    "required"       false
    "label"          $t.schema_food_type
    "label_singular" $t.schema_food_type_singular
    "hint"           $t.schema_food_type_hint
    "collapsed"      true
    "summary"        "{{fields.food_type}}"
    "allow_add"      true
    "fields"         (slice
      (dict "name" `food_type` "widget" `string` "required" false "label" $t.schema_food_type_singular)
    )
  ))
  (dict "&SCHEMA_DEPARTMENTS" (dict
    "name"           `departments`
    "widget"         `list`
    "required"       false
    "label"          $t.schema_departments
    "label_singular" $t.schema_departments_singular
    "collapsed"      true
    "summary"        "{{fields.url}}"
    "allow_add"      true
    "fields"         $fields
  ))
  (dict "&SETTINGS_SCHEMA" ($fields | append `~SCHEMA_DEPARTMENTS`))
}}