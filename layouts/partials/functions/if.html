{{ $if := true }}
{{ with .if }}
  {{ if eq . "content" }}
    {{ $if = $.Page.RawContent }}
  {{ else if eq . "toc" }}
    {{ $if = false }}
    {{ $params := partial "functions/params" $.Page }}
    {{ if $params.toc }}
      {{ with $.Page.RawContent }}
        {{ with . | findRE `\n#* ` }}
          {{ $if = index . 1 }}
        {{ end }}
      {{ end }}
    {{ end }}
  {{ else if eq . "related" }}
    {{ $if = or $.Page.Params.related ($.Page.CurrentSection.Pages.Related $.Page) }}
  {{ else if eq . "comments" }}
    {{ $if = and site.Params.disqus $.Page.Params.is_comments (not $.Page.IsSection) }}
  {{ else if eq . "children" }}
    {{ $if = or $.Page.IsSection $.Page.Params.taxonomy_of }}
  {{ else if eq . "collection" }}
    {{ $if = $.Page.IsSection }}
  {{ else if eq . "taxonomy" }}
    {{ $is_parent   := $.Page.Params.taxonomy_of }}
    {{ $is_not_root := not $.Page.IsSection }}
    {{ $if = and $is_parent $is_not_root }}
  {{ else if eq . "true" }}
    {{ $if = true }}
  {{ else if eq . "false" }}
    {{ $if = false }}
  {{ else }}
    {{ $if = partial "functions/index-split" (dict "value" $.Page.Params "path" .) }}
  {{ end }}
{{ end }}
{{ return $if }}
