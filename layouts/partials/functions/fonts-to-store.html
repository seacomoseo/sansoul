{{ with site.Data.styles.fonts }}
  {{/*  Set  */}}
  {{ $fonts := slice }}
  {{ $gf    := slice }}
  {{ range $key, $value := slice .base .title .cursive }}
      {{ if .weight }}
        {{ $font := dict
          "family" .family
          "weight" .weight
          "italic" .italic
        }}
        {{ $fonts = $fonts | append $font }}
        {{ if .google }}
          {{ $gf = $gf | append $font }}
        {{ end }}
      {{ end }}
      {{ if .bold }}
        {{ $bold := dict
          "family" .family
          "weight" .bold
          "italic" .italic
        }}
        {{ $fonts = $fonts | append $bold }}
        {{ if .google }}
          {{ $gf = $gf | append $bold }}
        {{ end }}
      {{ end }}
  {{ end }}
  {{ $fonts = uniq $fonts }}
  {{ $gf    = uniq $gf }}
  {{/*  CSS  */}}
  {{ $f_css := slice }}
  {{ range $fonts }}
    {{ $style  := cond .italic "italic" "normal" }}
    {{ $path   := print (.family | urlize) "-" .weight (cond .italic "-italic" "") }}
    {{ $f_face := slice .family .weight $style $path }}
    {{ $f_face  = delimit $f_face "|" }}
    {{ $f_css   = $f_css | append $f_face }}
  {{ end }}
  {{ $f_css = delimit $f_css "," }}
  {{/*  Set in hugo store  */}}
  {{ hugo.Store.Set "fonts" $fonts }}
  {{ hugo.Store.Set "fonts_css" $f_css }}
{{ end }}
{{ return "" }}