<!DOCTYPE html>
<html lang="{{ .Lang }}">

  {{- $params := partial "functions/params" . -}}

  {{/*  CUSTOM HTML HEAD  */}}
  {{- $custom_html_head  := "" -}}
  {{- with site.Params.html.head -}}
    {{- $path            := print "aux_html_head." $.Lang -}}
    {{- $custom_html_head = . | resources.FromString $path | resources.ExecuteAsTemplate $path $.Page -}}
    {{- $custom_html_head = $custom_html_head.Content | safeHTML -}}
  {{- end -}}

  {{/*  CUSTOM HTML BODY  */}}
  {{- $custom_html_body  := "" -}}
  {{- with site.Params.html.body -}}
    {{- $path            := print "aux_html_body." $.Lang -}}
    {{- $custom_html_body = . | resources.FromString $path | resources.ExecuteAsTemplate $path $.Page -}}
    {{- $custom_html_body = $custom_html_body.Content | safeHTML -}}
  {{- end -}}

  {{/*  BODY ID  */}}
  {{- $body_id := "" -}}
  {{- if .IsHome -}}
    {{- $body_id = .Slug -}}
  {{- else -}}
    {{- $body_id = .RelPermalink | replaceRE `^/|/$|\.html` `` | replaceRE `/` `-` -}}
  {{- end -}}
  {{- $body_id = print "body-" $body_id -}}

  {{/*  BODY MENU CLASS  */}}
  {{- $menu  := $params.menu -}}
  {{- $body_menu             := "" -}}
  {{- $body_menu_logo        := "" -}}
  {{- $body_menu_sticky      := "" -}}
  {{- $body_menu_logo_sticky := "" -}}
  {{- $body_menu_transparent := "" -}}
  {{- with $menu -}}
    {{- if not .hide -}}
      {{- $body_menu             = "body-menu" -}}
      {{- $body_menu_sticky      = cond (not .sticky)      "" (print "body-menu--sticky body-menu--sticky--" .sticky) -}}
    {{- end -}}
    {{- if or (not .hide) .logo -}}
      {{- $body_menu_transparent = cond (not .transparent) "" "body-menu--transparent" -}}
    {{- end -}}
    {{- if .logo -}}
      {{- $body_menu_logo        = "body-menu--logo" -}}
      {{- $body_menu_logo_sticky = cond (not .logo_sticky) "" "body-menu--logo--sticky" -}}
    {{- end -}}
  {{- end -}}

  {{/*  BODY CLASS  */}}
  {{- $body_class := slice
    (print "kind-" .Kind)
    (print "type-" .Type)
    (print "base-" .Params.base)
    "body-top"
    $body_menu
    $body_menu_logo
    $body_menu_sticky
    $body_menu_logo_sticky
    $body_menu_transparent
  -}}

  {{/*  BODY ATTRIBUTES  */}}
  {{- $background := $params.background -}}
  {{- $background  = merge $background (dict
    "body"  true
    "color" ($background.color | default "white"))
  -}}
  {{- $body_attr  := partial "components/base/sections/attr" (merge $background (dict
    "id"         $body_id
    "body_class" $body_class
  )) -}}

  {{/*  HEAD  */}}
  <head>
    {{- partial "components/base/head" . -}}
    {{- $custom_html_head -}}
  </head>

  {{/*  MODY  */}}
  <body {{ $body_attr | safeHTMLAttr }}>

    {{/*  IMAGE LCP  */}}
    <img width="8000" height="8000" alt="xl" class="lcp" decoding="sync" loading="eager" src="data:image/svg+xml;base64,
      {{- `<svg width='8000' height='8000' viewBox='0 0 1 1' xmlns='http://www.w3.org/2000/svg'></svg>` | base64Encode -}}
    ">

    {{/*  BACKGROUND  */}}
    {{- partial "components/bg" $background -}}

    {{/*  LOGO  */}}
    {{ partial "components/base/logo" $params }}

    {{/*  MENU  */}}
    {{ partial "components/base/menu/_" $params.menu }}

    {{/*  MAIN  */}}
    <main>
      {{ partial "components/base/sections/_" dict }}
    </main>

    {{/*  FOOTER  */}}
    {{ partial "components/base/sections/_" (dict "footer" true) }}

    {{/*  PRE BODY END  */}}
    {{ partial "components/cookies"      $params.menu    }}
    {{ partial "components/callnow"      $params.callnow }}
    {{ partial "components/up"           .               }}
    {{ partial "components/base/scripts" .               }}
    {{ $custom_html_body }}
  </body>
</html>
{{- block "none" . }}{{ end }}